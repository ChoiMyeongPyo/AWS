# 🚀 Amazon EKS 알아보기: AWS 관리형 쿠버네티스 서비스 완벽 해부

---

### 🔹 섹션 1: 컨테이너 오케스트레이션의 필요성과 쿠버네티스 소개

안녕하세요! 오늘은 많은 기업들이 클라우드 환경에서 애플리케이션을 운영하는 데 필수적인 기술, 바로 **컨테이너 오케스트레이션**에 대해 알아보려 합니다. 특히 Amazon Web Services (AWS)에서 제공하는 관리형 쿠버네티스 서비스인 **Amazon Elastic Kubernetes Service (EKS)**를 중심으로 그 기능과 장점을 자세히 살펴보겠습니다.

과거에는 애플리케이션을 단일 서버에 배포하여 운영하는 방식이 일반적이었습니다. 하지만 사용량이 증가함에 따라 서버 증설이 필요해지고, 여러 서버에서 많은 컨테이너를 관리해야 하는 상황에 직면하게 됩니다. 이때, 단일 머신에서 컨테이너 실행을 지원하는 Docker와 같은 도구만으로는 여러 서버에 걸쳐 컨테이너를 배포하고 관리하는 오케스트레이션 역할을 수행할 수 없습니다.

만약 특정 컨테이너에서 장애가 발생하여 중단된다면, 남아있는 컨테이너만으로는 정상적인 성능을 유지하기 어려울 수 있습니다. 관리자는 직접 서버에 접속하여 컨테이너를 재시작하거나, 전체 장애 시 노드를 증설하는 등의 조치를 수동으로 취해야 하며, 이는 곧 운영 부담의 증가로 이어집니다.

이러한 문제를 해결하기 위해 등장한 것이 바로 **컨테이너 오케스트레이터(Container Orchestrator)**입니다. 오케스트레이터는 마치 합창단의 지휘자처럼, 여러 서버에 분산된 컨테이너들을 중앙에서 관리하고 지휘하는 역할을 수행합니다.

**쿠버네티스(Kubernetes)**는 대표적인 컨테이너 오케스트레이터로, 원하는 상태(Desired State)를 정의하면 현재 상태(Current State)를 그에 맞춰 자동 조정해줍니다.

AWS는 이러한 쿠버네티스를 관리형 서비스로 제공하여 사용자의 운영 부담을 덜어주는 **Amazon EKS**, 그리고 AWS 자체 오케스트레이션 서비스인 **Amazon ECS**를 선택적으로 사용할 수 있도록 지원합니다.

이 글에서는 EKS를 집중적으로 다루며 그 핵심 개념과 기능을 상세히 알아보겠습니다.

---

### 🔹 섹션 2: 쿠버네티스 기본 개념 다지기 – 컨트롤 플레인과 데이터 플레인

Amazon EKS를 더 깊이 이해하기 위해서는 쿠버네티스의 기본적인 구조를 먼저 파악하는 것이 중요합니다. 쿠버네티스 클러스터는 크게 **컨트롤 플레인(Control Plane)**과 **데이터 플레인(Data Plane)**으로 구성됩니다.

**컨트롤 플레인**은 클러스터 전체를 관리하고 의사 결정을 내리는 핵심 두뇌 역할을 합니다. 주요 컴포넌트는 다음과 같습니다:

- **API 서버 (kube-apiserver)**: 쿠버네티스 API를 노출하여 클러스터와 상호작용하는 통로입니다.
- **컨트롤러 매니저 (kube-controller-manager)**: 다양한 컨트롤러를 실행하여 클러스터 상태를 유지합니다.
- **스케줄러 (kube-scheduler)**: 새 파드를 어떤 워커 노드에 배치할지 결정합니다.
- **etcd**: 클러스터 설정 및 상태 정보를 저장하는 고가용성 키-값 저장소입니다.

**데이터 플레인**은 애플리케이션 컨테이너가 실제로 실행되는 워커 노드로 구성됩니다:

- **큐블렛 (kubelet)**: 컨테이너 실행을 관리합니다.
- **큐브 프록시 (kube-proxy)**: 네트워크 프록시 및 로드 밸런서 역할을 합니다.
- **파드 (Pod)**: 하나 이상의 컨테이너와 리소스를 묶은 단위입니다.

컨트롤 플레인과 데이터 플레인은 API 서버를 통해 상호작용합니다.

---

### 🔹 섹션 3: Amazon EKS의 특징과 장점

Amazon EKS는 오픈 소스 쿠버네티스를 기반으로 한 관리형 서비스로, 다음과 같은 특징을 제공합니다:

- **완전한 쿠버네티스 호환성**
- **CNCF 인증**
- **확장된 버전 지원**
- **AWS 인프라 기반 고성능/고가용성**
- **IAM 및 VPC 기반 보안**
- **AWS 콘솔 및 Add-ons 관리 지원**

EKS를 통해 컨트롤 플레인 관리를 AWS에 맡기고 애플리케이션에 집중할 수 있습니다.

---

### 🔹 섹션 4: Amazon EKS 아키텍처 심층 분석

**관리형 컨트롤 플레인:**
- API 서버 및 etcd 이중화
- 자동 확장 지원
- ENI 기반 프라이빗 네트워크 구성

**데이터 플레인 선택지:**
- **Managed Node Group**: AWS가 자동 관리
- **Self-managed Node Group**: 사용자가 EC2 직접 운영
- **Fargate**: 서버리스 기반, 운영 부담 최소화

---

### 🔹 섹션 5: 쿠버네티스 오브젝트 이해

**설정 방식:**
- 명령형 (Imperative)
- 선언형 (Declarative, 멱등성 보장)

**주요 오브젝트:**
- Pod, ReplicaSet, Deployment, Service, Volume, Namespace

---

### 🔹 섹션 6: Amazon EKS 네트워킹

**내부 통신:** VPC CNI 플러그인으로 파드에 직접 VPC IP 할당  
**외부 접근 방식:**
- ClusterIP, NodePort, LoadBalancer
- Ingress + AWS Load Balancer Controller

---

### 🔹 섹션 7: Amazon EKS 스토리지

**스토리지 오브젝트:**
- Persistent Volume (PV)
- Persistent Volume Claim (PVC)

**프로비저닝 방식:**
- Static / Dynamic (StorageClass 기반)

**지원 CSI 드라이버:**
- EBS, EFS, FSx for Lustre

---

### 🔹 섹션 8: Amazon EKS 보안

**접근 제어 모델:**
- RBAC
- IAM 통합 (aws-auth ConfigMap + aws-iam-authenticator)

**세분화된 권한 관리:**
- IRSA
- Pod Identity
- 태그 기반 권한 제한

---

### 🔹 섹션 9: 결론

Amazon EKS는 안정성, 확장성, 보안성을 갖춘 클라우드 네이티브 플랫폼입니다. 웹 애플리케이션부터 머신 러닝, 생성형 AI까지 다양한 워크로드에 최적화되어 있습니다.

AWS와 협력해 최적의 아키텍처를 설계해보세요. 긴 글 읽어주셔서 감사합니다! 🙏